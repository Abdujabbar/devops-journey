import { Callout } from "nextra-theme-docs";

# Nega Ansible va Terraformni Tanladim?

![api-gateway-nima](https://raw.githubusercontent.com/devops-journey-uz/assets/main/images/article/ansible-terraform/banner.png)

## Kirish
Serverlar ko'pligida har birini qo'lda boshqarish oson emas. Qolaversa, qo'lda konfiguratsiya qilish xatolarga olib kelishi, vaqtni behuda sarflashga va jarayonni murakkablashtirishga sabab bo'ladi. Men infratuzilmani avtomatlashtirish va boshqarish usullarini izlay boshlaganimda, Ansible va Terraform men uchun eng yaxshi tanlov bo'ldi. Bu maqolada nima uchun aynan Ansible va Terraformni tanlaganim, qanday foydalar keltirgani va qanday qilib GitOps orqali boshqarishni tashkil qilganimni tushuntirib beraman.

Menda bir xil vazifalar ko'payib ketti va serverlar soni ham 100dan ortiq edi, 100dan ortiq serverga manual nimadir install qilib conf qilish juda ko'p vaqt va kuch talab qilardi va eng yomoni OS lar har xil va xatoliklar, anglashilmovchiliklari(nimadir esdan chiqib qoladi) bo'lishishi mumkin edi.

Serverlar soni ortib borgan sari ularni boshqarish traditional(an'anaviy) yondashuv orqali amalga oshirib bo'lmas darajada qiyinlashadi. Har bir serverni qo'lda config qilish katta vaqt va kuch talab qiladi, bitta kichik xatolik esa butun tizimning ishlamay qolishiga olib kelishi mumkin. Men infra boshqaruvini avtomatlashtirishga qaror qilganimda, Ansible va Terraform yordamida buni kutilganidan tezroq va samaraliroq qilish mumkinligini tushundim.

Ansible menga infratuzilmani kod orqali boshqarish imkonini berdi. Bu deklarativ yondashuv orqali tizimni ishonchli tarzda boshqarish va qayta tiklash imkoniyatini yaratadi. Ansible yordamida bir necha serverda bir xil konfiguratsiyalarni sozlash va yangilash osonlashdi. Yana bir muhim jihat - Ansible orqali boshqarish GitOps printsiplari bilan mos tushadi. GitOps yondashuvida barcha konfiguratsiyalar gitda saqlanadi va har bir o'zgarish tasdiqlangandan so'ng avtomatik ravishda serverlarga qo'llanadi. Bu nafaqat jarayonlarni xavfsizroq va aniqroq qiladi, balki konfiguratsiyalardagi o'zgarishlarni kuzatish va audit qilishni osonlashtiradi.

Nima uchun Ansible kerak degan savolga kichik misol keltiraman: Tassavvur qiling sizda sizda 100dan ortiq server bor va ularning OS lari va versiylari har xil(UBuntu20.04,Ubuntu 22.04,Debian 11, CentOS 7) sizning vazifangiz shu serverlarga misol uchun docker or'natib config qilib chiqishiz kerak, endi tasavvur qiling buncha serverga docker o'rnatib conf qilish uchun qancha vaqt va kuch talab qiladi? bu holda multiple OS ga docker o'rnatadigan ansible playbook yozib barcha serverlaringizga birdaniga docker o'rnatib chiqishingiz mumkin. Ansible qulayligi agentlari yo'q serverlrga ssh orqali ulanib ishlaydi, Siz o'zingizning local desktop kompyuteringizda yoki birorta serverda ansible o'rnatib oldib siz boshqamoqchi bo'lgan serverlarga ssh connection uchun ssh config qilib chiqasiz.

Terraform esa men uchun infratuzilmani boshqarishda eng kuchli vositalardan biri bo'ldi. Terraformning asosiy afzalligi - turli xil cloud platformalari va on-premise infratuzilmalar bilan ishlash imkoniyatidir. Biror infrani kod orqali ta'riflash va uni kerakli joyda bir marta bajarish orqali hamma joyda tatbiq qilish mumkin. Terraform bilan men infratuzilmani bir xil darajada boshqaraman, qayerda bo'lishidan qatâ€™i nazar - AWS, GCP yoki on-premise serverlar. Shu orqali ko'p qirrali infratuzilmalarni boshqarishda katta samaradorlikka erishdim.

Nima uchun Terraform kerak degan savolga kichik misol keltiraman: Tassavur qilib sizda misol uchun GCP,AWS yoki Azure cloud bor siz infratuzilmagiz arxitekturasi bo'yicha cloudda bir nechta vazifalarni bajarishingiz kerak masalan siz 50dan ortiq VM yaratishingiz Container Registry sozlashingiz VPC network, Firewall sozlashingiz kerak bo'lishi mumkin bu holda siz Cloud UI orqali har bittasi ustida ishlab bir o'ylab ko'ringaa? bu holda siz Terraform script yozib ishga tuhsirsangiz hammasi avtomatlashtirilgan holda tez va samarali bajariladi siz vaqtdan va kuchdan yutasiz eng asosiysi asablaringizni asraysiz)).

